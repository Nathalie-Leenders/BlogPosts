<!DOCTYPE html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <title>Dataverse Choices to SQL backend- Update!</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />

<link rel="stylesheet" href="//localhost:1313/styles/application.template.scss" integrity="" />





<meta property="og:url" content="//localhost:1313/posts/dataversechoices-sqlbackend/">
  <meta property="og:site_name" content="Power Platform Tips & Tricks">
  <meta property="og:title" content="Dataverse Choices to SQL backend- Update!">
  <meta property="og:description" content="A 3-part blog to display the struggles I had in making this work">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-02-14T14:27:14+00:00">
    <meta property="article:modified_time" content="2023-02-14T14:27:14+00:00">
    <meta property="article:tag" content="SQL">
    <meta property="article:tag" content="Virtual Tables">

    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Dataverse Choices to SQL backend- Update!">
  <meta name="twitter:description" content="A 3-part blog to display the struggles I had in making this work">
      <meta name="twitter:site" content="@NathLeenders">

    
    
<meta name="description" content="A 3-part blog to display the struggles I had in making this work" />



    





    <script integrity="sha256-6N/HdTRW44DtfcdqA1u42Z4XgmL1dEmNmLPaA2sgp1o=">
     let theme = localStorage.getItem('theme-scheme') || localStorage.getItem('darkmode:color-scheme') || 'light'
if (theme === 'system') {
  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    theme = 'dark'
  } else {
    theme = 'light'
  }
}
document.documentElement.setAttribute('data-theme', theme)

    </script>
    
  </head>

  <body class="type-posts kind-page" data-bs-spy="scroll" data-bs-target="#TableOfContents" data-bs-offset="80">
    <div class="container-fluid bg-secondary wrapper">
      
      
    

































  


<nav class="navbar navbar-expand-xl top-navbar shadow " id="top-navbar">
  <div class="container">
    
    <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button">
      <i data-feather="sidebar"></i>
    </button>
    
    <a class="navbar-brand" href="//localhost:1313/">
      Power Platform Tips &amp; Tricks</a>
    <button
      class="navbar-toggler navbar-light"
      id="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#top-nav-items"
      aria-label="menu"
    >
      <i data-feather="menu"></i>
    </button>

    <div class="collapse navbar-collapse dynamic-navbar" id="top-nav-items">
      <ul class="nav navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="//localhost:1313/#home">Home</a>
        </li>
        
        
        
        
        
        
        
        
      </ul>
    </div>
  </div>
  
  
  
</nav>



      
      
  <section class="sidebar-section" id="sidebar-section">
    <div class="sidebar-holder">
      <div class="sidebar" id="sidebar">
        <form class="mx-auto" method="get" action="//localhost:1313/search">
          <input type="text" name="keyword" value="" placeholder="Search" data-search="" id="search-box" />
        </form>
        <div class="sidebar-tree">
          <ul class="tree" id="tree">
            <li id="list-heading"><a href="//localhost:1313/posts/" data-filter="all">Posts</a></li>
            <div class="subtree">
                

            </div>
          </ul>
        </div>
      </div>
    </div>
  </section>


      
      
<section class="content-section" id="content-section">
  <div class="content">
    <div class="container p-0 read-area">
      
      <div class="hero-area col-sm-12" id="hero-area" style='background-image: url(/images/default-hero.jpg);'>
      </div>

      
      <div class="page-content">
        
        <div class="author-profile ms-auto align-self-lg-center">
          <img class="rounded-circle" src='//localhost:1313/images/default-avatar_hu7082271500929968185.png' alt="Author Image">
          <h5 class="author-name"></h5>
          <p class="text-muted">Tuesday, February 14, 2023</p>
        </div>
        

        <div class="title">
          <h1>Dataverse Choices to SQL backend- Update!</h1>
        </div>

        

        
        <div class="post-content" id="post-content">
          <div class="alert warning">
    <span><i data-feather="alert-triangle"></i></span>
    <span><strong>This is a lenghty tale of the whole adventure getting this to work</strong></span>
</div>

<p>Yannick Reekmans has helped me tremendously!! &#x1f64f;</p>
<p>We tested plugins, to make sure the form doesnt see the choice field, then map using either a java script or business rule to the value field, but even if we tell the plugin to ignore the attribute for the choice field, it would still try and submit it, and throw the error the virtual entity needed to be updated for the optionset. &#x1f643;</p>



    


<div class="alert success">
    <span><i data-feather="check-circle"></i></span>
    <span><strong><p>This shows how to get around the whole issue, recap, choices arent supported</p>
<p>Yannick proposed I use a PCF Component, to wrap around the value field, to make it behave like a dropdown.
I used <a href="https://pcf.gallery/csv-dropdown-control/" target="_blank" rel="noopener">https://pcf.gallery/csv-dropdown-control/</a> from <a href="https://pcf.gallery/authors#ivan_ficko" target="_blank" rel="noopener">https://pcf.gallery/authors#ivan_ficko</a></p>
<ul>
<li>Import the Managed Solution</li>
<li>Go to your components menu on the left,</li>
<li>Add in the component</li>
<li>On your value field, in classic mode, open the properties</li>
<li>Go to Controls</li>
<li>Under the properties add in your csv values (use delimiter ; ) (I had to dive into the .js code for that one)</li>
</ul>
<p>Now it’s a value field, that behaves like a dropdown, but is still being seen as the value field, and not a foreign body trying to be updated.</p>
</strong></span>
</div>

<p><strong>Now onto the fun part:</strong></p>
<h1 id="old-content---disclaimer---this-does-not-work">Old content - Disclaimer - This does not work!</h1>



    


<div class="alert warning">
    <span><i data-feather="alert-triangle"></i></span>
    <span><strong>Hold on, scratch that, ignore all below. This does not work!</strong></span>
</div>

<p>I’ve consulted with Microsoft support. and currently SQL virtual connector does not support choice options…</p>
<p>I’ll try and find a way around this, and let you know once I do. Microsoft will change their documentation to reflect this…</p>
<img src="zoe-muppets.gif"
    
    
        width="600"
    
    
        height="800"
    
    
    
>

<h4 id="old-content---disclaimer---this-does-not-work-old-blogpost-for-reference-only-or-how-to-use-business-rules-to-fill-a-field-value">Old content - Disclaimer - This does not work! Old blogpost for reference only, or, how to use business rules to fill a field value</h4>
<p>I’m developing a solution with a SQL data backend. Using Virtual Tables I’ve mapped my SQL DB’s to Dataverse.
I need quite a lot of dropdown/optionsets in my forms, but my SQL column is NVARCHAR (string/text)
There is no choice column in SQL available.</p>
<p>So how do I go around this?</p>
<p>I’ve started thinking about the good old ‘Patch’ capability, to have a stand alone dropdown, patch the value to a field and that works.</p>
<p>A colleague found an old optionset D365 blog post, and this is how we solved the issue:</p>
<ul>
<li>Create a choice in your solution. For this I’ll go with City1</li>
<li>Add the values you need to that choice (City1)</li>
<li>In your form, add the column you need (City2)</li>
<li>Add a new field, choice, choose from the existing Optionset you created in the first step</li>
<li>Double click on this new field</li>
<li>Go to Business Rules</li>
<li>Add a new rule</li>
<li>If City1 field value matches “New York”</li>
<li>Update Field Value for City2 to “New York”</li>
</ul>
<img src="business%20rules.png"
    
    
        width="600"
    
    
        height="800"
    
    
    
>

<ul>
<li>
<p>Hide the City2 field as it’s not needed to show, City1 will have the dropdown, City2 will do the actual upload.</p>
<p>Now when you select New York from the dropdown in City1, it automatically does the same for City2 which is where the historical data also resides.</p>
</li>
</ul>
<p>This might be a bit convoluted, if you have another way please let me know &#x1f64f; .</p>
        </div>

        
        <div class="row ps-3 pe-3">
        
          <div class="col-md-6 share-buttons">
          
          </div>

        
        
        </div>



      
      <hr />
        












<div class="row next-prev-navigator">
  
  
</div>

      <hr />

      
      

      
      

      </div>
    </div>
  </div>
  
  <a id="scroll-to-top" class="btn" type="button" data-bs-toggle="tooltip" data-bs-placement="left" title="Scroll to top">
    <i class="fas fa-chevron-circle-up"></i>
  </a>
</section>


      
      
  <section class="toc-section" id="toc-section">
    
  </section>

    </div>

    
    












  
  

  
  

  
  

  
  


  
  
  

  
  
  

  
  
  
    
  
  

  
  
  

  <footer id="footer" class="container-fluid text-center align-content-center footer pb-2">
    <div class="container pt-5">
      <div class="row text-start">
        
        <div class="col-md-4 col-sm-12">
          <h5>Navigation</h5>
          
        </div>
        
        
        
        
          
          <div class="col-md-4 col-sm-12">
            <p>Stay up to date with email notification</p>
            
              <form method='post' action='https://blogtrottr.com'>
              <div class="form-group">
              <input type='email' class="form-control" name='btr_email' placeholder="Enter email"/><br />
              <input type='hidden' name='btr_url' value='//localhost:1313//index.xml' />
              <input type='hidden' name='schedule_type' value='1' />
              <small id="emailHelp" class="form-text text-muted">By entering your email address, you agree to receive the newsletter of this website.</small>
              <button type="submit" class="btn btn-info"> Submit </button>
              </div>
              </form>
            
          </div>
        
      </div>
    </div>
    
    
    <hr />
    <div class="container">
      <div class="row text-start">
        <div class="col-md-4">
          <a id="theme" href="https://github.com/hugo-toha/toha" target="_blank" rel="noopener">
            <img src="//localhost:1313/images/theme-logo_hu16779671404603505019.png" alt="Toha Theme Logo">
            Toha
          </a>
        </div>
        <div class="col-md-4 text-center">© 2025 Copyright.</div>
        <div class="col-md-4 text-end">
          <a id="hugo" href="https://gohugo.io/" target="_blank" rel="noopener">Powered by
          <img
            src="//localhost:1313/images/hugo-logo.svg"
            alt="Hugo Logo"
            height="18"
          />
          </a>
        </div>
      </div>
    </div>
    
  </footer>


    <script src="//localhost:1313/scripts/application.js" integrity="" defer></script>


    
     

    
</body>
</html>
